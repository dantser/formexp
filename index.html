<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Форма платёжного поручения</title>
  <style>
    * {
      box-sizing: border-box;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      background: #05060a;
      color: #e5ecff;
      padding: 30px 10px;
    }

    .card {
      background: #111822;
      border-radius: 8px;
      padding: 24px 24px 28px;
      width: 100%;
      max-width: 420px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.6);
    }

    .card h1 {
      margin: 0 0 20px;
      font-size: 22px;
      font-weight: 500;
      color: #e5ecff;
    }

    .form-group {
      margin-bottom: 16px;
    }

    label {
      font-size: 14px;
      display: block;
      margin-bottom: 6px;
      color: #e5ecff;
    }

    .required {
      color: #ff6b6b;
      margin-left: 2px;
    }

    input[type="text"],
    textarea,
    select {
      width: 100%;
      padding: 9px 10px;
      font-size: 14px;
      border-radius: 4px;
      border: 1px solid #2c3648;
      background: #141b27;
      color: #e5ecff;
      outline: none;
      transition: border-color 0.15s ease, box-shadow 0.15s ease;
    }

    input[type="text"]:focus,
    textarea:focus,
    select:focus {
      border-color: #3c82ff;
      box-shadow: 0 0 0 1px rgba(60, 130, 255, 0.35);
    }

    textarea {
      resize: vertical;
      min-height: 70px;
      max-height: 180px;
    }

    .buttons {
      display: flex;
      justify-content: space-between;
      margin-top: 10px;
      gap: 10px;
    }

    .btn {
      flex: 1;
      min-width: 90px;
      border: none;
      border-radius: 4px;
      padding: 9px 14px;
      font-size: 14px;
      cursor: pointer;
      background: #2f63c7;
      color: #f4f6ff;
      transition: background 0.15s ease, transform 0.05s ease;
    }

    .btn:hover {
      background: #3875eb;
    }

    .btn-secondary {
      background: #1f2837;
      color: #d6defa;
    }

    .btn-secondary:hover {
      background: #273347;
    }

    .btn:active {
      transform: translateY(1px);
    }

    .btn[disabled] {
      opacity: 0.55;
      cursor: default;
    }

    .hidden {
      display: none;
    }
  </style>
</head>
<body>
  <div class="card">
    <h1>Форма платёжного поручения</h1>

    <form id="multiStepForm">

      <!-- Шаг 1 -->
      <div class="step" data-step="1">
        <div class="form-group">
          <label>Наименование импортера<span class="required">*</span></label>
          <input type="text" name="importer_name" required />
        </div>

        <div class="form-group">
          <label>Страна импортера<span class="required">*</span></label>
          <input type="text" name="importer_country" required />
        </div>

        <div class="form-group">
          <label>Город импортера<span class="required">*</span></label>
          <input type="text" name="importer_city" required />
        </div>

        <div class="form-group">
          <label>Улица, дом, офис импортера<span class="required">*</span></label>
          <input type="text" name="importer_address" required />
        </div>
      </div>

      <!-- Шаг 2 — без поля банк -->
      <div class="step hidden" data-step="2">
        <div class="form-group">
          <label>Номер счета импортера<span class="required">*</span></label>
          <input type="text" name="importer_account" required />
        </div>

        <div class="form-group">
          <label>SWIFT банка импортера<span class="required">*</span></label>
          <input type="text" name="importer_swift" required />
        </div>
      </div>

      <!-- Шаг 3 -->
      <div class="step hidden" data-step="3">
        <div class="form-group">
          <label>Экспортный контракт (номер, дата)<span class="required">*</span></label>
          <textarea name="export_contract" required
                    placeholder="Пример заполнения: 123 dd 12.12.2025"></textarea>
        </div>

        <div class="form-group">
          <label>Код Валютной Операции (КВО)</label>
          <select name="kvo_code">
            <option value="">(не установлено)</option>
            <option>{10100} – поставка товара</option>
            <option>{10200} – поставка товара</option>
            <option>{20100} – оказание услуги</option>
            <option>{20200} – оказание услуги</option>
            <option>{21500} – оказание услуги</option>
            <option>{60080} – поставка товара</option>
            <option>{60081} – оказание услуги</option>
          </select>
        </div>

        <div class="form-group">
          <label>Назначение платежа по экспортному контракту<span class="required">*</span></label>
          <textarea name="payment_purpose" required></textarea>
        </div>
      </div>

      <div class="buttons">
        <button type="button" class="btn btn-secondary" id="prevBtn">Назад</button>
        <button type="button" class="btn" id="nextBtn">Далее</button>
      </div>

    </form>
  </div>

  <script>
    const steps = Array.from(document.querySelectorAll(".step"));
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    const form = document.getElementById("multiStepForm");

    let currentStep = 1;
    updateStep();

    prevBtn.addEventListener("click", () => {
      if (currentStep > 1) {
        currentStep--;
        updateStep();
      }
    });

    nextBtn.addEventListener("click", () => {
      const currentStepEl = steps.find(s => +s.dataset.step === currentStep);
      const requiredFields = currentStepEl.querySelectorAll("[required]");

      for (const field of requiredFields) {
        if (!field.value.trim()) {
          field.focus();
          return;
        }
      }

      if (currentStep < steps.length) {
        currentStep++;
        updateStep();
      } else {
        form.reportValidity();
        alert("Форма заполнена (демо).");
      }
    });

    function updateStep() {
      steps.forEach(step => {
        step.classList.toggle("hidden", +step.dataset.step !== currentStep);
      });

      prevBtn.disabled = currentStep === 1;
      nextBtn.textContent = currentStep === steps.length ? "Отправить" : "Далее";
    }
  </script>
</body>
</html>
